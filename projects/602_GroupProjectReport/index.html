<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <h1 id="project-description">Project Description</h1> <pre><code class="language-{r}">#| label: setup
#| warning: false
#| message: false

# library(ggpubr)
# library(naniar)
library(tidyr)
library(haven)
library(tidyverse)
library(explore)
library(haven)
library(stringr)
library(ggpubr)
library(ltm)

knitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)
</code></pre> <h1 id="importing-dataset-and-cleaning">Importing Dataset and Cleaning</h1> <p>```{r warning = FALSE, message = FALSE} #survey_data &lt;- read_csv(‘RD_Omnibus_FA23_final_dec7.csv’) survey_data &lt;- read_csv(‘https://raw.githubusercontent.com/eiig26/public_data/main/RD_Omnibus_FA23_final_dec7.csv’)</p> <p>#Remove the headers survey_data &lt;- survey_data [-(1:2),]</p> <p>#Select just our columns and Remove the preview responses survey_data &lt;- survey_data[survey_data$Status != “Survey Preview”, c( “Duration (in seconds)”, “DistributionChannel”, “Consent”, “g4q1_1”, “g4q1_2”, “g4q1_3”, “g4q1_4”, “g4q1_5”, “g4q1_6”, “g4q1_7”, “g4q1_8”, “g4q1_9”, “g4q2”, “g4q3”, “g4q4”, “g4q5”, “g4q6”, “g4q7”, “g4q8”, “g4q9”, “g4q10”, “g4q11”, “g4q12”, “g4q13”, “g4q14”, “age”, “gender”, “hhi”, “ethnicity”, “hispanic”, “education”, “political_party”, “zip”, “region”, “g4_DO”, “g4jail1”, “g4jail2” )]</p> <p>#Remove Consent = I do not agree survey_data &lt;- survey_data %&gt;% filter(Consent == “I agree”)</p> <p>#Rename columns for best understanding survey_data &lt;- survey_data %&gt;% rename(“(att)g4q1_1_honest living” = g4q1_1, “(att)g4q1_2_next door” = g4q1_2, “(att)g4q1_3_rehabilitate” = g4q1_3, “(att)g4q1_4_productivelives” = g4q1_4, “(att)g4q1_5_immoral” = g4q1_5, “(att)g4q1_6_circumstance” = g4q1_6, “(att)g4q1_7_trust” = g4q1_7, “(att)g4q1_8_guard” = g4q1_8, “(att)g4q1_9_parole” = g4q1_9, “(control)g4q2_felonsvote” = g4q2, “g4q3_white_lowc_noitd” = g4q3, “g4q4_nowhite_lowc_noitd” = g4q4, “g4q5_white_medc_noitd” = g4q5, “g4q6_nowhite_medc_noitd” = g4q6, “g4q7_white_highc_noitd” = g4q7, “g4q8_nowhite_highc_noitd” = g4q8, “g4q9_white_lowc_itd” = g4q9, “g4q10_nowhite_lowc_itd” = g4q10, “g4q11_white_medc_itd” = g4q11, “g4q12_nowhite_medc_itd” = g4q12, “g4q13_white_highc_itd” = g4q13, “g4q14_nowhite_highc_itd” = g4q14, “g4jail1_youincar” = g4jail1, “g4jail2_famfrdincar” = g4jail2)</p> <p>#Recode gender column survey_data &lt;- survey_data %&gt;% mutate(gender = recode(as.character(gender),”1” = “Male”, “2” = “Female”))</p> <p>#Recode ethnicity column survey_data &lt;- survey_data %&gt;% mutate(ethnicity = recode(as.character(ethnicity), “1” = “White”, “2” = “Black, or African American”, “3” = “American Indian or Alaska Native”, “4” = “Asian <em>** Asian Indian”, “5” = “Asian **</em> Chinese”, “6” = “Asian <em>** Filipino”, “7” = “Asian **</em> Japanese”, “8” = “Asian <em>** Korean”, “9” = “Asian **</em> Vietnamese”, “10” = “Asian <em>** Other”, “11” = “Pacific Islander **</em> Native Hawaiian “, “12” = “Pacific Islander <em>** Guamanian”, “13” = “Pacific Islander **</em> Samoan”, “14” = “Pacific Islander *** Other Pacific Islander”, “15” = “Some other race”, “16” = “Prefer not to answer”))</p> <p>#Recode political party columns survey_data &lt;- survey_data %&gt;% mutate(political_party = recode(as.character(political_party), “1” = “Strong Democrat”, “2” = “Not very strong Democrat”, “3” = “Independent Democrat”, “4” = “Independent - neither”, “5” = “Independent Republican”, “6” = “Other - leaning Democrat”, “7” = “Other - neither”, “8” = “Other - leaning Republican”, “9” = “Not very strong Republican”, “10” = “Strong Republican”))</p> <p>#Recode education columns survey_data &lt;- survey_data %&gt;% mutate(education = recode(as.character(education), “1” = “Some high school or less”, “2” = “High school graduate”, “3” = “Other post high school vocational training”, “4” = “Completed some college, but no degree”, “5” = “Associate’s degree”, “6” = “Bachelor’s degree”, “7” = “Master’s or professional degree”, “8” = “Doctorate degree”, “-3105” = “None of the above”))</p> <p>#Recode hhi column (Annual household income) survey_data &lt;- survey_data %&gt;% mutate(hhi = recode(as.character(hhi), “1” = “Less than $14,999”, “2” = “$15,000 to $19,999”, “3” = “$20,000 to $24,999”, “4” = “$25,000 to $29,999”, “5” = “$30,000 to $34,999”, “6” = “$35,000 to $39,999”, “7” = “$40,000 to $44,999”, “8” = “$45,000 to $49,999”, “9” = “$50,000 to $54,999”, “10” = “$55,000 to $59,999”, “11” = “$60,000 to $64,999”, “12” = “$65,000 to $69,999”, “13” = “$70,000 to $74,999”, “14” = “$75,000 to $79,999”, “15” = “$80,000 to $84,999”, “16” = “$85,000 to $89,999”, “17” = “$90,000 to $94,999”, “18” = “$95,000 to $99,999”, “19” = “$100,000 to $124,999”, “20” = “$125,000 to $149,999”, “21” = “$150,000 to $174,999”, “22” = “$175,000 to $199,999”, “23” = “$200,000 to $249,999”, “24” = “$250,000 and above”, “-3105” = “Prefer not to answer”))</p> <p>#Recode hispanic columns survey_data &lt;- survey_data %&gt;% mutate(hispanic = recode(as.character(hispanic), “1” = “No , not of Hispanic, Latino, or Spanish origin”, “2” = “Yes, Mexican, Mexican American, Chicano”, “3” = “Yes, Cuban”, “4” = “Yes, another Hispanic, Latino, or Spanish origin <em>** Argentina”, “5” = “Yes, another Hispanic, Latino, or Spanish origin **</em> Colombia”, “6” = “Yes, another Hispanic, Latino, or Spanish origin <em>** Ecuador”, “7” = “Yes, another Hispanic, Latino, or Spanish origin **</em> El Salvadore”, “8” = “Yes, another Hispanic, Latino, or Spanish origin <em>** Guatemala”, “9” = “Yes, another Hispanic, Latino, or Spanish origin **</em> Nicaragua”, “10” = “Yes, another Hispanic, Latino, or Spanish origin <em>** Panama”, “11” = “Yes, another Hispanic, Latino, or Spanish origin **</em> Peru”, “12” = “Yes, another Hispanic, Latino, or Spanish origin <em>** Spain”, “13” = “Yes, another Hispanic, Latino, or Spanish origin **</em> Venezuela”, “14” = “Yes, another Hispanic, Latino, or Spanish origin *** Other Country”, “15” = “Prefer not to answer”))</p> <p>#Recode region columns survey_data &lt;- survey_data %&gt;% mutate(region = recode(as.character(region), “1” = “Northeast”, “2” = “Midwest”, “3” = “South”, “4” = “West”))</p> <p>#Assign IV number</p> <p>survey_data &lt;- survey_data %&gt;% mutate(g4_IV = case_when( str_detect(g4_DO, “g4q3”) ~ 1, str_detect(g4_DO, “g4q4”) ~ 2, str_detect(g4_DO, “g4q5”) ~ 3, str_detect(g4_DO, “g4q6”) ~ 4, str_detect(g4_DO, “g4q7”) ~ 5, str_detect(g4_DO, “g4q8”) ~ 6, str_detect(g4_DO, “g4q9”) ~ 7, str_detect(g4_DO, “g4q10”) ~ 8, str_detect(g4_DO, “g4q11”) ~ 9, str_detect(g4_DO, “g4q12”) ~ 10, str_detect(g4_DO, “g4q13”) ~ 11, str_detect(g4_DO, “g4q14”) ~ 12, ))</p> <p>write.csv(survey_data, “survey_data_v2.csv”, row.names=TRUE)</p> <p>#The survey_data file was uploaded to GitHub for continue with the Data Cleaning process</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
# More Data Cleaning and Recoding

```{r}
survey.data &lt;- read_csv("https://raw.githubusercontent.com/kholl28/dacss602final/main/survey_data_v2.csv?token=GHSAT0AAAAAACLHNEN2NCZ7WEDFG2CIKPZSZL2FBMQ")

# renaming columns to make referencing them easier
# --------------------------------
oldnames = c("...1","(att)g4q1_1_honest living","(att)g4q1_2_next door","(att)g4q1_3_rehabilitate","(att)g4q1_4_productivelives","(att)g4q1_5_immoral","(att)g4q1_6_circumstance","(att)g4q1_7_trust","(att)g4q1_8_guard","(att)g4q1_9_parole","(control)g4q2_felonsvote","g4q3_white_lowc_noitd","g4q4_nowhite_lowc_noitd","g4q5_white_medc_noitd","g4q6_nowhite_medc_noitd","g4q7_white_highc_noitd","g4q8_nowhite_highc_noitd","g4q9_white_lowc_itd","g4q10_nowhite_lowc_itd","g4q11_white_medc_itd","g4q12_nowhite_medc_itd","g4q13_white_highc_itd","g4q14_nowhite_highc_itd","g4jail1_youincar","g4jail2_famfrdincar")

newnames = c("respondent","honest.living","next.door","rehab","productive","immoral","circumstance","trust","guard","parole","vote.info","white.low.nor","non.low.nor","white.med.nor","non.med.nor","white.high.nor","non.high.nor","white.low.r","non.low.r","white.med.r","non.med.r","white.high.r","non.high.r","you.jail","famfrd.jail")

# Info on Column Names
# --------------------------------
# ATTITUDES SCALE - full Questions
# honest.living = Most felons are too lazy to earn an honest living. **(REVERSE SCORED)**
# next.door = I wouldn’t mind living next door to an ex-felon.
# rehab = Trying to rehabilitate felons is a waste of time and money. **(REVERSE SCORED)**
# productive = Given the right conditions, felons can lead productive lives and become law-abiding citizens.
# immoral = Felons are just plain immoral. **(REVERSE SCORED)**
# circumstance = Felons are victims of circumstance and deserve to be helped.
# trust = It is wise to trust a felon.
# guard = You have to be constantly on your guard with felons. **(REVERSE SCORED)**
# parole = If a person does well in prison, he/she should be let out on parole.

# VIGNETTES
# white = white felon
# non = non-white felon
# low = low crime severity, tax fraud
# med = medium crime severity, armed robbery
# high = high crime severity, sexual offense against a child
# nor = no intention to recidivate, ie. do not intend to recommit crimes once out of prison
# r = intention to recidiviate, ie. do intend to recommit crimes once out of prison


# Recoding Attitude Responses to Numeric
# --------------------------------
survey.data &lt;- survey.data %&gt;%
  dplyr::select(-c(DistributionChannel, Consent)) %&gt;% # removing some unnecessary columns
  rename_at(vars(oldnames), ~ newnames) %&gt;%  
  mutate(across(c("next.door","productive","circumstance","trust","parole","vote.info"), # normal worded positive scale items plus vote.info variable
            ~case_when(
              grepl("Strongly disagree", .) ~ 1,
              grepl("Disagree", .) ~ 2,
              grepl("Agree", .) ~ 3,
              grepl("Strongly agree", .) ~ 4))) %&gt;%
    mutate(across(c("honest.living","rehab","immoral","guard"), # recoding reverse worded survey items
            ~case_when(
              grepl("Strongly disagree", .) ~ 4,
              grepl("Disagree", .) ~ 3,
              grepl("Agree", .) ~ 2,
              grepl("Strongly agree", .) ~ 1)))

# Tabulating a Total Attitudes Score for Each Respondent
# --------------------------------
survey.data &lt;- survey.data %&gt;%
  mutate(attitudes = rowSums(.[3:11]) - 9, .after = "parole")

# 0 = most negative attitudes towards felons possible
# 27 = most positive attitudes towards felons possible

# Creating Summary df
# --------------------------------
vignettes &lt;- survey.data %&gt;%
  dplyr::select(14:25) 

respondent.df &lt;- survey.data %&gt;%
  mutate(v.condition = names(vignettes)[max.col(!is.na(vignettes))], .after = "non.high.r") %&gt;% 
  mutate(felon.race = case_when(
    str_detect(v.condition, "white") ~ "white",
    str_detect(v.condition, "non") ~ "non-white"), .after = "v.condition") %&gt;% 
  mutate(crime.sev = case_when(
    str_detect(v.condition, "low") ~ "low",
    str_detect(v.condition, "med") ~ "medium",
    str_detect(v.condition, "high") ~ "high"), .after = "felon.race") %&gt;%
   mutate(recidivism = case_when(
    str_detect(v.condition, "nor") ~ "no intent",
    str_detect(v.condition, "r") ~ "intent"), .after = "crime.sev") %&gt;% 
  mutate(v.response = coalesce(white.low.nor,non.low.nor,white.med.nor,non.med.nor,white.high.nor,non.high.nor, # v.response = survey participant's response to vignette
                               white.low.r,non.low.r,white.med.r,non.med.r,white.high.r,non.high.r), .after = "recidivism") %&gt;% 
  dplyr::select(-14:-25, -v.condition)

# Turning variables into factor variable
# --------------------------------
respondent.df$crime.sev &lt;- factor(respondent.df$crime.sev, levels = c("low", "medium", "high"))
respondent.df$v.response &lt;- factor(respondent.df$v.response, levels = c("No", "Yes"))

# Creating new column for respondent history of incarceration
# --------------------------------
# you.jail = "Have you ever been incarcerated (sentenced to prison)" Yes/No
# famfrd.jail = "Has a friend or family members of yours ever been incarcerated (sentenced to prison)?" Yes/No

respondent.df &lt;- respondent.df %&gt;% 
  mutate(jail = case_when(
    you.jail == "Yes" | famfrd.jail == "Yes" ~ "Yes",
    you.jail == "No" | famfrd.jail == "No" ~ "No"), .after = "famfrd.jail")
</code></pre></div></div> <h1 id="descriptive-summary">Descriptive Summary</h1> <pre><code class="language-{r}"># race
# crime severity
# recidivism intention
# vignette response (DV)

# Vignette Response + Race of Felon
# --------------------------------
table(respondent.df$felon.race, respondent.df$v.response)
# non-white: no = 86, yes = 48
# white: no = 86, yes = 43

# Vignette Response + Crime Severity
# --------------------------------
table(respondent.df$crime.sev, respondent.df$v.response)
# No:
# low = 58
# medium = 53
# high = 61

# Yes:
# low = 31
# medium = 35
# high = 25

# Vignette Response + Recidivism Intent
# --------------------------------
table(respondent.df$recidivism, respondent.df$v.response)
# intent:
# no = 96
# yes = 35

# no intent:
# no = 76
# yes = 56

# Overall Vignette Responses
# --------------------------------
table(respondent.df$v.response)
# no = 172
# yes = 91

# Summary Table of Attitudes per each IV
# --------------------------------
summary_table &lt;- respondent.df %&gt;%
  group_by(felon.race, crime.sev, recidivism) %&gt;%
  summarize(
    Mean_Attitudes = mean(attitudes, na.rm = TRUE),
    Response_Yes = sum(v.response == "1", na.rm = TRUE),
    Response_No = sum(v.response == "0", na.rm = TRUE),
    .groups = 'drop'  # This drops the grouping after summarization
  )

summary_table

# most positive attitudes towards felons: 27
# most negative attitudes towards felons: 0
</code></pre> <h1 id="findings">Findings</h1> <pre><code class="language-{r}"># What variables do we want to compare to each other to see if there is a relationship?

# Attitudes vs. Vignette Response = point-biserial correlation test
# Race of felon vs. Vignette Response = chi-squared test
# Crime Severity vs. Vignette Response = chi-squared test
# Recidivism Intention vs. Vignette Response = chi-squared test

# Attitudes vs. Vignette Response
# --------------------------------
respondent.df &lt;- respondent.df %&gt;%
  mutate(v.response = case_when(
              v.response == "No" ~ "0",
              v.response == "Yes" ~ "1"))

biserial.cor(respondent.df$attitudes, respondent.df$v.response, use = c("all.obs"), level = 1)
biserial.cor(respondent.df$attitudes, respondent.df$v.response, use = c("all.obs"), level = 2)
# level 1 = no response to vignette
# -0.2203021
# level 2 = yes response to vignette
# 0.2203021
# normal relationship, not very strong

# https://medium.com/@RaharditoDP/point-biserial-correlation-in-r-70e713caa7a0


# Race of felon vs. Vignette Response
# --------------------------------
chisq.test(respondent.df$felon.race, respondent.df$v.response)
# p-value = 0.7685
# so, fail to reject the null hypothesis (p &gt; 0.05)
# x-squared = 0.086612 
# df = 1


# Crime Severity vs. Vignette Response
# --------------------------------
chisq.test(respondent.df$crime.sev, respondent.df$v.response)
# p-value = 0.332
# so, fail to reject the null hypothesis (p &gt; 0.05)
# x-squared = 2.205
# df = 2


# Recidivism Intention vs. Vignette Response
# --------------------------------
chisq.test(respondent.df$recidivism, respondent.df$v.response)
# p-value = 0.01084
# so, reject the null hypothesis (p &lt; 0.05), yay!
# x-squared = 6.4907
# df = 1


# Incarceration History vs. Vignette Response
# --------------------------------
chisq.test(respondent.df$jail, respondent.df$v.response)
# p-value = 0.4388
# so, fail to reject the null hypothesis (p &gt; 0.05)
# x-squared = 0.59935
# df = 1
</code></pre> <pre><code class="language-{r}"># https://www.r-bloggers.com/2021/08/how-to-plot-categorical-data-in-r-quick-guide/#:~:text=A%20useful%20technique%20to%20show,is%20to%20use%20grouped%20boxplots.&amp;text=The%20teams%20are%20represented%20on,represented%20on%20the%20y%2Daxis

# https://rkabacoff.github.io/datavis/Bivariate.html

# Attitudes vs. Vignette Response
# Race of felon vs. Vignette Response = chi-squared test
# Crime Severity vs. Vignette Response = chi-squared test
# Recidivism Intention vs. Vignette Response = chi-squared test


# Relationship between Attitudes and Vignette Response
# --------------------------------
respondent.df %&gt;%
  ggplot(aes(v.response, attitudes)) +
  geom_boxplot(fill='lightskyblue') +
  theme_minimal() +
  labs(x = "Vignette Response", y="Total Attitudes Score", title = "Relationship between Attitudes and Vignette Response")

respondent.df %&gt;%
  group_by(v.response) %&gt;%
  count(attitudes) %&gt;%
  ggplot(aes(attitudes, n, colour = v.response, group = v.response)) +
  geom_line(lwd = 1) +
  theme_minimal() +
  theme(legend.position = 'bottom') +
  scale_colour_hue(labels=c("Voting rights restored", "voting rights NOT restored")) +
  labs(x = "Total Attitudes Score", y = "Count", colour = "Vignette Response", title = "Relationship btw/ attitudes towards felons and decision to restore felon voting rights")


# Relationship between Race of Felon and Vignette Response 
# --------------------------------
respondent.df %&gt;%
  ggplot(aes(felon.race, fill = factor(v.response, 
                                     levels = c("0", "1"),
                                     labels = c("no", "yes")))) +
  geom_bar(position = "fill", width = 0.7) +
  theme_minimal() +
  scale_fill_brewer(palette = "Set1", name = "Voting Rights Restored?", labels = c("No", "Yes")) +
  scale_y_continuous(labels = scales::percent_format(accurary = 1)) +
  labs(x = "Race of Felon", y="Proportion (%)", title = "Effect of Felon Race on Voting Rights Restoration")


# Relationship between Crime Severity and Vignette Respone 
# --------------------------------
respondent.df %&gt;%
  ggplot(aes(v.response, fill = crime.sev)) +
  geom_bar(position = position_dodge(preserve = "single"), width = 0.7) +
  scale_fill_manual(name = "Crime severity", values = c("lightgreen", "khaki", "indianred")) +
  scale_x_discrete(name = "Voting Rights Restored?", labels = c("No", "Yes")) +
  theme_minimal() +
  labs(x = "Vignette Response", y="Count", title = "Effect of Crime Severity on Voting Rights Restoration")

# The majority of respondents said No to restoring voting rights to the felon.
# Respondents were marginally more likely to restore voting rights to a felon with a medium crime severity than a low or high crime severity **NEED TO CHECK SIGNIFICANCE**


# Relationship between Recidivism Intention and Vignette Response
# --------------------------------
respondent.df %&gt;%
  ggplot(aes(v.response, fill=recidivism)) +
  geom_bar(position="fill", width = 0.7) +
  theme_minimal() +
   scale_x_discrete(name = "Voting Rights Restored?", labels = c("No", "Yes")) +
  scale_y_continuous(labels = scales::percent_format(accurary = 1)) +
  labs(x = "Vignette Response", y="Proportion (%)", title = "Effect of Felon Recidivism Intention on Voting Rights Restoration", fill = "Recidivism Intention")

# plot shows that when shown a vignette of a felon who intends to recommit the crime once released from prison, independent of the severity of the crime committed or the race of the felon, respondents are more likely to not restore rights to the felon compared to respondents who received vignettes of felons who did NOT intend to recidivise. 
</code></pre> <h1 id="interpretation">Interpretation</h1> </body></html>